{% extends 'common/base.html' %}

{% block content %}
<div class="card">
    <div class="card-body">
        <div class="row text-center"><h1>Sign up<h1></div>
        <form method="post" id="signup_form">
            {% csrf_token %}
            <div class="row">
                <div class="col">
                    <label class="form-lable" style="font-weight: bold;">아이디</label>
                    <input class="form-control" name="username" id="username" type="text">
                </div>
            </div>
            <div class="row" style="margin-top:10px;">
                <div class="col">
                    <label class="form-lable" style="font-weight: bold;">비밀번호</label>
                    <input class="form-control" name="password" id="password" type="password">
                </div>
            </div>
            <div class="row" style="margin-top:10px;">
                <div class="col">
                    <label class="form-lable" style="font-weight: bold;">비밀번호 확인</label>
                    <input class="form-control" id="password_check" type="password">
                </div>
            </div>
            <div class="row" style="margin-top:10px;">
                <div class="col">
                    <label class="form-lable" style="font-weight: bold;">닉네임</label>
                    <input class="form-control" name="nickname" id="nickname" type="text">
                </div>
            </div>
        </form>
        <div class="row text-end" style="margin-top:10px;">
            <div class="col">
                <a id="signup_btn" class="btn btn-primary">
                    회원가입
                </a>
            </div>
        </div>
        <script>
            let signup_btn = document.getElementById("signup_btn");
            let username = document.getElementById("username");
            let password = document.getElementById("password");
            let password_check = document.getElementById("password_check");
            let nickname = document.getElementById("nickname");
            let signup_form = document.getElementById("signup_form");

            signup_btn.addEventListener("click", ()=>{
                if(!username.value){
                    alert("아이디를 입력해주세요.");
                    return false;
                }
                if(!password.value){
                    alert("비밀번호를 입력해주세요.");
                    return false;
                }else if(password.value !== password_check.value){
                    alert("비밀번호 확인을 다시 해주세요.");
                    return false;
                }
                if(!nickname.value){
                    alert("닉네임을 입력해주세요.");
                    return false;
                }
                signup_form.submit() 
            })

        </script>
    </div>
</div>
{% for message in messages %}
    <div class="alert alert-primary" role="alert">{{ message }}</div>
{% endfor %}
{% endblock %}